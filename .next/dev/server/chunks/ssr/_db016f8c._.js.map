{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bkbil/OneDrive/Documents/GitHub/v0-cartoon-chat-ui/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bkbil/OneDrive/Documents/GitHub/v0-cartoon-chat-ui/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bkbil/OneDrive/Documents/GitHub/v0-cartoon-chat-ui/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bkbil/OneDrive/Documents/GitHub/v0-cartoon-chat-ui/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bkbil/OneDrive/Documents/GitHub/v0-cartoon-chat-ui/components/theme-toggle.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Moon, Sun } from 'lucide-react'\r\n\r\nexport function ThemeToggle() {\r\n  const [isDark, setIsDark] = useState(false)\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setMounted(true)\r\n    // Check system preference or stored preference\r\n    const isDarkMode = localStorage.getItem('theme') === 'dark' ||\r\n      (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)\r\n    setIsDark(isDarkMode)\r\n    if (isDarkMode) {\r\n      document.documentElement.classList.add('dark')\r\n    }\r\n  }, [])\r\n\r\n  const toggleTheme = () => {\r\n    const newIsDark = !isDark\r\n    setIsDark(newIsDark)\r\n    \r\n    if (newIsDark) {\r\n      document.documentElement.classList.add('dark')\r\n      localStorage.setItem('theme', 'dark')\r\n    } else {\r\n      document.documentElement.classList.remove('dark')\r\n      localStorage.setItem('theme', 'light')\r\n    }\r\n  }\r\n\r\n  if (!mounted) return null\r\n\r\n  return (\r\n    <Button\r\n      variant=\"ghost\"\r\n      size=\"icon\"\r\n      onClick={toggleTheme}\r\n      className=\"rounded-full hover:bg-accent/20\"\r\n    >\r\n      {isDark ? (\r\n        <Sun className=\"w-5 h-5 text-yellow-400\" />\r\n      ) : (\r\n        <Moon className=\"w-5 h-5 text-slate-600\" />\r\n      )}\r\n    </Button>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAJA;;;;;AAMO,SAAS;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;QACX,+CAA+C;QAC/C,MAAM,aAAa,aAAa,OAAO,CAAC,aAAa,UAClD,CAAC,aAAa,OAAO,CAAC,YAAY,OAAO,UAAU,CAAC,gCAAgC,OAAO;QAC9F,UAAU;QACV,IAAI,YAAY;YACd,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC;IACF,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,MAAM,YAAY,CAAC;QACnB,UAAU;QAEV,IAAI,WAAW;YACb,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YACvC,aAAa,OAAO,CAAC,SAAS;QAChC,OAAO;YACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;YAC1C,aAAa,OAAO,CAAC,SAAS;QAChC;IACF;IAEA,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,8OAAC,qIAAM;QACL,SAAQ;QACR,MAAK;QACL,SAAS;QACT,WAAU;kBAET,uBACC,8OAAC,uMAAG;YAAC,WAAU;;;;;iCAEf,8OAAC,0MAAI;YAAC,WAAU;;;;;;;;;;;AAIxB"}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bkbil/OneDrive/Documents/GitHub/v0-cartoon-chat-ui/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\r\n\r\nexport function createClient() {\r\n  return createBrowserClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,iMAAmB;AAI5B"}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bkbil/OneDrive/Documents/GitHub/v0-cartoon-chat-ui/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card } from '@/components/ui/card'\nimport { Heart, Users, Sparkles, MessageCircle, LogOut, User, Menu } from 'lucide-react'\nimport { ThemeToggle } from '@/components/theme-toggle'\nimport Link from 'next/link'\nimport { useRouter } from 'next/navigation'\nimport { createClient } from '@/lib/supabase/client'\n\ninterface RoomMember {\n  id: string\n  username: string\n  display_name?: string\n  avatar_url?: string\n}\n\ninterface RoomCreator {\n  id: string\n  username: string\n  display_name?: string\n  avatar_url?: string\n}\n\ninterface Room {\n  id: string\n  name: string\n  description?: string\n  topic: string\n  emoji: string\n  is_public: boolean\n  member_count: number\n  max_members?: number\n  members?: RoomMember[]\n  liveCount?: number\n  creator?: RoomCreator\n}\n\nexport default function Home() {\n  const [publicRooms, setPublicRooms] = useState<Room[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [user, setUser] = useState<any>(null)\n  const [showMobileMenu, setShowMobileMenu] = useState(false)\n  const [searchQuery, setSearchQuery] = useState('')\n  const [selectedTopic, setSelectedTopic] = useState<string>('all')\n  const [capacityFilter, setCapacityFilter] = useState<'any' | 'available' | 'full'>('any')\n  const [sortBy, setSortBy] = useState<'most_active' | 'recent' | 'alphabetical'>('most_active')\n  const isGuestUser = !!user && (((user as any).is_anonymous) || ((user as any).app_metadata?.provider === 'anonymous'))\n  const [guestError, setGuestError] = useState<string | null>(null)\n  const [startingGuest, setStartingGuest] = useState(false)\n  const router = useRouter()\n  const supabaseDirect = createClient()\n  const handleStartGuest = async () => {\n    setGuestError(null)\n    setStartingGuest(true)\n    try {\n      const { data, error } = await supabaseDirect.auth.signInAnonymously()\n      if (error) {\n        setGuestError('Guest sign-in failed. Redirecting to Guest page...')\n        router.push('/guest')\n        return\n      }\n      const u = data?.user\n      if (u?.id) {\n        const username = `Guest-${Math.floor(Math.random()*10000)}`\n        const avatar = `https://api.dicebear.com/7.x/avataaars/svg?seed=guest${Math.random()}`\n        await supabaseDirect\n          .from('profiles')\n          .upsert({ id: u.id, username, display_name: username, avatar_url: avatar })\n        setUser(u)\n      } else {\n        setGuestError('Guest session unavailable. Use Guest page instead.')\n        router.push('/guest')\n      }\n    } catch {\n      setGuestError('Unexpected error. Redirecting to Guest page...')\n      router.push('/guest')\n    } finally {\n      setStartingGuest(false)\n    }\n  }\n\n  useEffect(() => {\n    const supabase = createClient()\n\n    const fetchRooms = async () => {\n      try {\n        const { data: rooms, error } = await supabase\n          .from('rooms')\n          .select(`\n            *,\n            creator:profiles!rooms_created_by_fkey (\n              id,\n              username,\n              display_name,\n              avatar_url\n            ),\n            room_members (\n              user_id,\n              profiles (\n                id,\n                username,\n                display_name,\n                avatar_url\n              )\n            )\n          `)\n          .eq('is_public', true)\n          .limit(50)\n\n        if (error) throw error\n        \n        const roomsWithMembers = (rooms || []).map((room: any) => {\n          const members = room.room_members?.slice(0, 4).map((rm: any) => rm.profiles).filter(Boolean) || []\n          const liveCount = Array.isArray(room.room_members) ? room.room_members.length : members.length\n          const creator = room.creator ? {\n            id: room.creator.id,\n            username: room.creator.username,\n            display_name: room.creator.display_name,\n            avatar_url: room.creator.avatar_url,\n          } : undefined\n          return { ...room, members, liveCount, creator }\n        })\n        \n        setPublicRooms(roomsWithMembers)\n      } catch (err) {\n        console.error('Failed to fetch rooms:', err)\n        // Fall back to demo rooms if database is empty\n        setPublicRooms([\n          { id: '1', name: 'General Chat', description: '', topic: 'General Discussion', emoji: 'ðŸ’¬', is_public: true, member_count: 2543, max_members: 8, members: [] },\n          { id: '2', name: 'Gaming Hub', description: '', topic: 'Video Games', emoji: 'ðŸŽ®', is_public: true, member_count: 1843, max_members: 8, members: [] },\n          { id: '3', name: 'Creative Corner', description: '', topic: 'Art & Design', emoji: 'ðŸŽ¨', is_public: true, member_count: 892, max_members: 8, members: [] },\n          { id: '4', name: 'Tech Talk', description: '', topic: 'Technology', emoji: 'ðŸ’»', is_public: true, member_count: 1234, max_members: 8, members: [] },\n          { id: '5', name: 'Music Vibes', description: '', topic: 'Music & Podcasts', emoji: 'ðŸŽµ', is_public: true, member_count: 567, max_members: 8, members: [] },\n          { id: '6', name: 'Study Squad', description: '', topic: 'Learning Together', emoji: 'ðŸ“š', is_public: true, member_count: 3421, max_members: 8, members: [] },\n        ])\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    const checkUser = async () => {\n      const { data: { user } } = await supabase.auth.getUser()\n      setUser(user)\n    }\n\n    fetchRooms().then(async () => {\n      try {\n        \n\n        const roomIds = (publicRooms || []).map((r) => r.id)\n        if (roomIds.length === 0) return\n\n        const channel = supabase\n          .channel('rooms-live')\n          .on('postgres_changes', { event: 'INSERT', schema: 'public', table: 'room_members' }, async (payload) => {\n            const roomId = payload.new?.room_id\n            const userId = payload.new?.user_id\n            if (!roomId || !userId) return\n            setPublicRooms((prev) => {\n              const idx = prev.findIndex((r) => r.id === roomId)\n              if (idx === -1) return prev\n              const room = prev[idx]\n              const exists = room.members?.some((m) => (m as any)?.id === userId || (m as any)?.user_id === userId)\n              const nextMembers = room.members ? [...room.members] : []\n              if (!exists) {\n                // Fetch profile for avatar\n                supabase\n                  .from('profiles')\n                  .select('id, username, display_name, avatar_url')\n                  .eq('id', userId)\n                  .single()\n                  .then(({ data }) => {\n                    if (!data) return\n                    setPublicRooms((prev2) => {\n                      const i2 = prev2.findIndex((r) => r.id === roomId)\n                      if (i2 === -1) return prev2\n                      const r2 = prev2[i2]\n                      const mems = r2.members ? [...r2.members] : []\n                      const already = mems.some((m: any) => m.id === data.id)\n                      if (!already) mems.unshift({ id: data.id, username: data.username, display_name: data.display_name, avatar_url: data.avatar_url })\n                      return [\n                        ...prev2.slice(0, i2),\n                        { ...r2, members: mems.slice(0, 4), liveCount: (r2.liveCount || 0) + 1 },\n                        ...prev2.slice(i2 + 1),\n                      ]\n                    })\n                  })\n              }\n              return [\n                ...prev.slice(0, idx),\n                { ...room, liveCount: (room.liveCount || 0) + (exists ? 0 : 1) },\n                ...prev.slice(idx + 1),\n              ]\n            })\n          })\n          .on('postgres_changes', { event: 'DELETE', schema: 'public', table: 'room_members' }, async (payload) => {\n            const roomId = payload.old?.room_id\n            const userId = payload.old?.user_id\n            if (!roomId || !userId) return\n            setPublicRooms((prev) => {\n              const idx = prev.findIndex((r) => r.id === roomId)\n              if (idx === -1) return prev\n              const room = prev[idx]\n              const mems = (room.members || []).filter((m: any) => m.id !== userId && m.user_id !== userId)\n              const nextCount = Math.max(0, (room.liveCount || 0) - 1)\n              return [\n                ...prev.slice(0, idx),\n                { ...room, members: mems, liveCount: nextCount },\n                ...prev.slice(idx + 1),\n              ]\n            })\n          })\n          .subscribe()\n\n        // Cleanup\n        return () => {\n          supabase.removeChannel(channel)\n        }\n      } catch {}\n    })\n    checkUser()\n\n    // Listen for auth changes\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\n      setUser(session?.user ?? null)\n    })\n\n    return () => {\n      subscription.unsubscribe()\n    }\n  }, [])\n\n  const handleSignOut = async () => {\n    try {\n      const supabase = createClient()\n      const { error } = await supabase.auth.signOut()\n      if (error) throw error\n      router.push('/')\n    } catch (err) {\n      console.error('Failed to sign out:', err)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-background via-background to-primary/5 dark:from-background dark:via-background dark:to-primary/10\">\n      {/* Navigation */}\n      <nav className=\"sticky top-0 z-50 backdrop-blur-lg border-b border-border\">\n        <div className=\"max-w-7xl mx-auto px-3 sm:px-4 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-2xl flex items-center justify-center text-white font-bold text-xl\">\n              ðŸ’¬\n            </div>\n            <h1 className=\"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent\">\n              ChatBloom\n            </h1>\n          </div>\n          {/* Desktop actions */}\n          <div className=\"hidden sm:flex gap-3 items-center\">\n            <ThemeToggle />\n            {user && !isGuestUser ? (\n              <>\n                <Link href=\"/profile\">\n                  <Button variant=\"outline\" size=\"sm\" className=\"rounded-full\">\n                    <User className=\"w-4 h-4 mr-2\" />\n                    Profile\n                  </Button>\n                </Link>\n                <Button variant=\"outline\" size=\"sm\" onClick={handleSignOut} className=\"rounded-full\">\n                  <LogOut className=\"w-4 h-4 mr-2\" />\n                  Sign Out\n                </Button>\n              </>\n            ) : (\n              <Link href=\"/auth\">\n                <Button variant=\"outline\" size=\"sm\" className=\"rounded-full\">\n                  Sign In\n                </Button>\n              </Link>\n            )}\n            {!isGuestUser && (\n              <Link href=\"/create-room\">\n                <Button size=\"sm\" className=\"bg-accent hover:bg-accent/90 rounded-full\">\n                  Create Room\n                </Button>\n              </Link>\n            )}\n          </div>\n\n          {/* Mobile menu button */}\n          <div className=\"sm:hidden flex items-center gap-2\">\n            <ThemeToggle />\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              className=\"rounded-full\"\n              onClick={() => setShowMobileMenu((v) => !v)}\n            >\n              <Menu className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        </div>\n      </nav>\n\n      {/* Mobile menu panel */}\n      {showMobileMenu && (\n        <>\n          <div className=\"fixed inset-0 z-[45] bg-background/40\" onClick={() => setShowMobileMenu(false)} />\n          <div className=\"fixed top-14 left-0 right-0 z-[50] px-3\">\n            <div className=\"bg-card border border-border rounded-2xl shadow-lg p-3 grid grid-cols-1 gap-2\">\n              {user && !isGuestUser ? (\n                <>\n                  <Link href=\"/profile\" onClick={() => setShowMobileMenu(false)}>\n                    <Button variant=\"outline\" className=\"w-full rounded-full justify-start\">\n                      <User className=\"w-4 h-4 mr-2\" /> Profile\n                    </Button>\n                  </Link>\n                  <Button variant=\"outline\" className=\"w-full rounded-full justify-start\" onClick={() => { setShowMobileMenu(false); handleSignOut() }}>\n                    <LogOut className=\"w-4 h-4 mr-2\" /> Sign Out\n                  </Button>\n                </>\n              ) : (\n                <Link href=\"/auth\" onClick={() => setShowMobileMenu(false)}>\n                  <Button variant=\"outline\" className=\"w-full rounded-full justify-start\">Sign In</Button>\n                </Link>\n              )}\n              {!isGuestUser && (\n                <Link href=\"/create-room\" onClick={() => setShowMobileMenu(false)}>\n                  <Button className=\"w-full rounded-full bg-accent hover:bg-accent/90 justify-start\">Create Room</Button>\n                </Link>\n              )}\n            </div>\n          </div>\n        </>\n      )}\n\n      {/* Hero Section */}\n      <section className=\"relative overflow-hidden\">\n        <div className=\"max-w-7xl mx-auto px-3 sm:px-4 py-12 md:py-24\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-12 items-center\">\n            {/* Left Content */}\n            <div className=\"space-y-8 text-center md:text-left\">\n              <div className=\"space-y-4\">\n                <h2 className=\"text-4xl sm:text-5xl md:text-6xl font-bold leading-tight\">\n                  <span className=\"text-balance\">Connect, Chat &</span>\n                  <span className=\"block bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent\">\n                    Celebrate Together\n                  </span>\n                </h2>\n                <p className=\"text-lg text-foreground/70 leading-relaxed max-w-none sm:max-w-lg mx-auto md:mx-0\">\n                  Join vibrant chat rooms, connect with friends 1-on-1, and earn rewards as you grow. Experience chatting reimagined with a fun, cartoon-style interface.\n                </p>\n              </div>\n\n              <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center md:justify-start\">\n                <Link href=\"/create-room\">\n                  <Button size=\"lg\" className=\"bg-primary hover:bg-primary/90 rounded-full font-semibold px-8 w-full\">\n                    <Sparkles className=\"w-5 h-5 mr-2\" />\n                    Create Room\n                  </Button>\n                </Link>\n                <Button size=\"lg\" variant=\"outline\" className=\"rounded-full font-semibold px-8 w-full\" onClick={handleStartGuest} disabled={startingGuest}>\n                  <MessageCircle className=\"w-5 h-5 mr-2\" />\n                  {startingGuest ? 'Startingâ€¦' : 'Join as Guest'}\n                </Button>\n                {guestError && (\n                  <p className=\"mt-2 text-xs text-foreground/60\">{guestError}</p>\n                )}\n              </div>\n\n              {/* Stats */}\n              <div className=\"grid grid-cols-2 gap-3 sm:gap-4 pt-4\">\n                <div className=\"bg-primary/10 dark:bg-primary/20 rounded-2xl p-4\">\n                  <p className=\"text-2xl font-bold text-primary\">Hello  </p>\n                  <p className=\"text-sm text-foreground/70\">Users</p>\n                </div>\n                <div className=\"bg-accent/10 dark:bg-accent/20 rounded-2xl p-4\">\n                  <p className=\"text-2xl font-bold text-accent\">{publicRooms.length}+</p>\n                  <p className=\"text-sm text-foreground/70\">Chat Rooms</p>\n                </div>\n              </div>\n            </div>\n\n            {/* Right Hero Illustration - hidden on mobile */}\n            <div className=\"relative h-72 md:h-full hidden md:block\">\n              <div className=\"absolute inset-0 bg-gradient-to-br from-primary/20 to-accent/20 rounded-3xl blur-2xl\" />\n              <div className=\"relative flex items-center justify-center h-full\">\n                <div className=\"w-56 h-56 md:w-64 md:h-64 bg-gradient-to-br from-primary via-secondary to-accent rounded-3xl shadow-2xl flex items-center justify-center animate-float\">\n                  <div className=\"text-center\">\n                    <p className=\"text-5xl md:text-6xl mb-2 md:mb-4\">ðŸ’¬</p>\n                    <p className=\"text-white font-bold text-base md:text-lg\">Chat Magic</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Floating bubbles - hidden on mobile */}\n        <div className=\"hidden md:block absolute top-20 left-10 w-20 h-20 bg-primary/20 rounded-full blur-xl animate-float\" style={{ animationDelay: '0s' }} />\n        <div className=\"hidden md:block absolute bottom-20 right-10 w-32 h-32 bg-accent/20 rounded-full blur-xl animate-float\" style={{ animationDelay: '1s' }} />\n        <div className=\"hidden md:block absolute top-1/2 right-1/4 w-24 h-24 bg-secondary/20 rounded-full blur-xl animate-float\" style={{ animationDelay: '2s' }} />\n      </section>\n\n      {/* Public Rooms Section */}\n      <section className=\"py-20 border-t border-border\">\n        <div className=\"max-w-7xl mx-auto px-4\">\n          <div className=\"mb-12\">\n            <h3 className=\"text-3xl md:text-4xl font-bold mb-2\">Explore Chat Rooms</h3>\n            <p className=\"text-foreground/60\">Find rooms by name, topic, and availability</p>\n            <div className=\"mt-6 space-y-2\">\n              <div className=\"flex gap-2\">\n                <Input\n                  placeholder=\"Search rooms by name or topic\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"rounded-full h-10 text-sm flex-1\"\n                />\n              </div>\n              <div className=\"flex gap-2 overflow-x-auto whitespace-nowrap py-1 -mx-1 px-1\">\n                <Button variant={capacityFilter === 'any' ? 'default' : 'outline'} size=\"sm\" className=\"rounded-full px-3\" onClick={() => setCapacityFilter('any')}>Any</Button>\n                <Button variant={capacityFilter === 'available' ? 'default' : 'outline'} size=\"sm\" className=\"rounded-full px-3\" onClick={() => setCapacityFilter('available')}>Available</Button>\n                <Button variant={capacityFilter === 'full' ? 'default' : 'outline'} size=\"sm\" className=\"rounded-full px-3\" onClick={() => setCapacityFilter('full')}>Full</Button>\n              </div>\n              <div className=\"flex gap-2 overflow-x-auto whitespace-nowrap py-1 -mx-1 px-1\">\n                {['all','General','Gaming','Art & Design','Technology','Music','Learning','Sports','Food'].map((t) => (\n                  <Button key={t} variant={selectedTopic === t ? 'default' : 'outline'} size=\"sm\" className=\"rounded-full px-3\" onClick={() => setSelectedTopic(t)}>\n                    {t === 'all' ? 'All Topics' : t}\n                  </Button>\n                ))}\n              </div>\n              <div className=\"flex gap-2 justify-end\">\n                <Button variant={sortBy === 'most_active' ? 'default' : 'outline'} size=\"sm\" className=\"rounded-full px-3\" onClick={() => setSortBy('most_active')}>Most Active</Button>\n                <Button variant={sortBy === 'alphabetical' ? 'default' : 'outline'} size=\"sm\" className=\"rounded-full px-3\" onClick={() => setSortBy('alphabetical')}>Aâ€“Z</Button>\n              </div>\n            </div>\n          </div>\n\n          {isLoading ? (\n            <div className=\"text-center py-12\">\n              <div className=\"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin mx-auto\" />\n            </div>\n          ) : (\n            <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\n              {publicRooms\n                .filter((room) => {\n                  const q = searchQuery.trim().toLowerCase()\n                  const inSearch = q === '' || room.name.toLowerCase().includes(q) || (room.topic || '').toLowerCase().includes(q)\n                  const topicOk = selectedTopic === 'all' || (room.topic || '').toLowerCase() === selectedTopic.toLowerCase()\n                  const available = ((room.max_members ?? 8) - (room.liveCount ?? 0)) > 0\n                  const capacityOk = capacityFilter === 'any' ? true : capacityFilter === 'available' ? available : !available\n                  return inSearch && topicOk && capacityOk\n                })\n                .sort((a, b) => {\n                  if (sortBy === 'alphabetical') return a.name.localeCompare(b.name)\n                  return (b.liveCount ?? 0) - (a.liveCount ?? 0)\n                })\n                .map((room) => (\n                  <Card key={room.id} onClick={() => router.push(`/room/${room.id}`)} className=\"p-4 sm:p-6 hover:shadow-lg hover:shadow-primary/20 transition-all duration-300 cursor-pointer group border-border/50 hover:border-primary/50 h-full\">\n                    <div className=\"flex items-start justify-between mb-3 sm:mb-4\">\n                      <div className=\"text-3xl sm:text-5xl\">{room.emoji}</div>\n                      <div className=\"bg-primary/10 dark:bg-primary/20 text-primary rounded-full px-2 sm:px-3 py-1 text-xs sm:text-sm font-semibold group-hover:scale-110 transition-transform\">\n                        {(room.liveCount ?? 0)}/{room.max_members ?? 8}\n                      </div>\n                    </div>\n                    <h4 className=\"text-lg sm:text-xl font-bold mb-1 text-balance group-hover:text-primary transition-colors\">{room.name}</h4>\n                    <p className=\"text-xs sm:text-sm text-foreground/60 mb-2 sm:mb-3\">{room.topic}</p>\n\n                    {room.creator && (\n                      <div className=\"flex items-center gap-2 mb-3 sm:mb-4\">\n                        <div className=\"w-6 h-6 sm:w-8 sm:h-8 rounded-full border-2 border-background overflow-hidden bg-primary/20 flex items-center justify-center\">\n                          {room.creator.avatar_url ? (\n                            <img src={room.creator.avatar_url} alt={room.creator.display_name || room.creator.username} className=\"w-full h-full object-cover\" />\n                          ) : (\n                            <span className=\"text-xs font-semibold text-foreground/70\">\n                              {(room.creator.display_name || room.creator.username || '?').charAt(0).toUpperCase()}\n                            </span>\n                          )}\n                        </div>\n                        <span className=\"text-xs sm:text-sm text-foreground/70\">\n                          Admin {room.creator.display_name || room.creator.username}\n                        </span>\n                      </div>\n                    )}\n                    \n                    {/* Member Avatars */}\n                    {room.members && room.members.length > 0 && (\n                      <div className=\"flex items-center gap-2 mb-3 sm:mb-4\">\n                        <div className=\"flex -space-x-2 overflow-x-auto max-w-full pr-1\">\n                          {room.members.slice(0, 8).map((member, idx) => (\n                            <div\n                              key={member.id || idx}\n                              className=\"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-background overflow-hidden bg-accent/20 flex items-center justify-center\"\n                              title={member.display_name || member.username}\n                            >\n                              {member.avatar_url ? (\n                                <img\n                                  src={member.avatar_url}\n                                  alt={member.display_name || member.username}\n                                  className=\"w-full h-full object-cover\"\n                                />\n                              ) : (\n                                <span className=\"text-xs sm:text-sm font-semibold text-foreground/70\">\n                                  {(member.display_name || member.username || '?').charAt(0).toUpperCase()}\n                                </span>\n                              )}\n                            </div>\n                          ))}\n                        </div>\n                        {(room.liveCount ?? room.member_count ?? 0) > 8 && (\n                          <span className=\"text-xs sm:text-sm text-foreground/60\">\n                            +{(room.liveCount ?? room.member_count ?? 0) - 8} more\n                          </span>\n                        )}\n                      </div>\n                    )}\n                    \n                    <Button\n                      size=\"sm\"\n                      className=\"w-full bg-primary hover:bg-primary/90 rounded-full text-xs sm:text-sm\"\n                      onClick={(e) => {\n                        e.preventDefault()\n                        e.stopPropagation()\n                        router.push(`/room/${room.id}`)\n                      }}\n                    >\n                      {((room.max_members ?? 8) - (room.liveCount ?? 0)) <= 0 ? 'Full â€“ View' : 'Join Now'}\n                    </Button>\n                  </Card>\n                ))}\n            </div>\n          )}\n        </div>\n      </section>\n\n      {/* Features Section - hidden on mobile */}\n      <section className=\"py-12 md:py-20 bg-primary/5 dark:bg-primary/10 border-t border-border hidden md:block\">\n        <div className=\"max-w-7xl mx-auto px-4\">\n          <h3 className=\"text-3xl md:text-4xl font-bold mb-12 text-center\">Why ChatBloom?</h3>\n          \n          <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            {[\n              { icon: MessageCircle, title: 'Group Chats', desc: 'Chat with thousands in public rooms' },\n              { icon: Heart, title: 'Reactions', desc: 'React with stickers, emojis & GIFs' },\n              { icon: Users, title: 'Direct Messages', desc: '1-on-1 conversations with friends' },\n              { icon: Sparkles, title: 'Rewards', desc: 'Earn XP, badges & level up' },\n            ].map((feature, i) => (\n              <div key={i} className=\"bg-card rounded-2xl p-6 hover:shadow-lg transition-shadow\">\n                <feature.icon className=\"w-8 h-8 text-primary mb-4\" />\n                <h4 className=\"font-bold text-lg mb-2\">{feature.title}</h4>\n                <p className=\"text-sm text-foreground/60\">{feature.desc}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* CTA Section - hidden on mobile */}\n      <section className=\"py-12 md:py-20 hidden md:block\">\n        <div className=\"max-w-4xl mx-auto px-4\">\n          <div className=\"bg-gradient-to-br from-primary to-accent rounded-3xl p-6 md:p-12 text-center text-white\">\n            <h3 className=\"text-3xl md:text-4xl font-bold mb-4\">Ready to Join the Conversation?</h3>\n            <p className=\"text-lg opacity-90 mb-8\">Start chatting now, no credit card required</p>\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n              <Link href=\"/auth\">\n                <Button size=\"lg\" variant=\"secondary\" className=\"rounded-full font-semibold px-8\">\n                  Create an Account\n                </Button>\n              </Link>\n              <Link href=\"/auth\">\n                <Button size=\"lg\" variant=\"outline\" className=\"rounded-full font-semibold px-8 text-white border-white hover:bg-white/10\">\n                  Sign In\n                </Button>\n              </Link>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}